<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musyawarah & Toleransi: Kunci Mufakat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f8fafc; /* Slate 50 */
            color: #334155; /* Slate 700 */
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        /* Custom scrollbar for better UX */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* Animation for content switching */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <!-- Chosen Palette: "Soft Education" - Slate (Background/Text), Emerald (Positive), Rose (Negative), Sky (Primary UI) -->
    <!-- Application Structure Plan: 
         1. Hero Section
         2. Curriculum Roadmap (TP/ATP)
         3. Knowledge Hub (Tabs) - ENHANCED CONTENT
         4. Simulation Lab (Dynamic Chart)
         5. Behavior Sorter (Interactive List)
         6. Case Study (Decision Branching)
         7. Reflection & Summary
         8. Footer with Author Credit
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased selection:bg-sky-200">

    <!-- Navbar/Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <h1 class="text-xl font-bold text-sky-600">ğŸ“ Kelas Musyawarah</h1>
            <nav class="hidden md:flex space-x-4">
                <button onclick="scrollToSection('section-materi')" class="text-slate-500 hover:text-sky-600 font-semibold transition">Materi</button>
                <button onclick="scrollToSection('section-simulasi')" class="text-slate-500 hover:text-sky-600 font-semibold transition">Simulasi</button>
                <button onclick="scrollToSection('section-kasus')" class="text-slate-500 hover:text-sky-600 font-semibold transition">Studi Kasus</button>
            </nav>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- Hero Section -->
        <section class="text-center space-y-4 py-10 bg-gradient-to-b from-sky-50 to-white rounded-3xl">
            <div class="inline-block bg-sky-100 text-sky-800 px-4 py-1 rounded-full text-sm font-bold mb-2">Pendidikan Kewarganegaraan</div>
            <h2 class="text-4xl md:text-5xl font-extrabold text-slate-800 tracking-tight">Musyawarah & Toleransi</h2>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                Kunci utama untuk mencapai kesepakatan bersama. Mari belajar bagaimana menghargai pendapat teman untuk mencapai <strong>Mufakat</strong>.
            </p>
            <div class="pt-4">
                <button onclick="scrollToSection('section-kurikulum')" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                    Mulai Belajar ğŸš€
                </button>
            </div>
        </section>

        <!-- SECTION: Curriculum / TP & ATP -->
        <section id="section-kurikulum" class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex items-center justify-between">
                <h3 class="text-lg font-bold text-slate-800 flex items-center">
                    <span class="mr-2">ğŸ¯</span> Kurikulum Pembelajaran
                </h3>
                <span class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Peta Konsep</span>
            </div>
            <div class="p-6 md:p-8">
                <!-- TP Utama -->
                <div class="mb-8 bg-sky-50 rounded-xl p-5 border-l-4 border-sky-500">
                    <h4 class="text-sky-800 font-bold mb-2 text-sm uppercase tracking-wide">Tujuan Pembelajaran (TP) Utama</h4>
                    <p class="text-lg text-slate-700 font-semibold italic">
                        "Peserta didik mampu menjelaskan pentingnya menerapkan sikap toleransi untuk mencapai mufakat dalam musyawarah."
                    </p>
                </div>

                <!-- ATP Timeline -->
                <div class="relative">
                    <h4 class="text-slate-800 font-bold mb-6 text-sm uppercase tracking-wide border-b pb-2">Alur Tujuan Pembelajaran (ATP)</h4>
                    
                    <!-- Vertical Line -->
                    <div class="absolute left-4 top-12 bottom-0 w-0.5 bg-slate-200"></div>

                    <div class="space-y-6">
                        <!-- TP 1.1 -->
                        <div class="relative pl-12">
                            <div class="absolute left-2 top-1 w-5 h-5 bg-white border-4 border-sky-400 rounded-full z-10"></div>
                            <span class="inline-block bg-sky-100 text-sky-700 text-xs font-bold px-2 py-0.5 rounded mb-1">TP 1.1</span>
                            <p class="text-slate-600 text-sm">Peserta didik mampu menyebutkan <strong>pengertian musyawarah dan mufakat</strong> dengan bahasa sederhana.</p>
                        </div>

                        <!-- TP 1.2 -->
                        <div class="relative pl-12">
                            <div class="absolute left-2 top-1 w-5 h-5 bg-white border-4 border-sky-400 rounded-full z-10"></div>
                            <span class="inline-block bg-sky-100 text-sky-700 text-xs font-bold px-2 py-0.5 rounded mb-1">TP 1.2</span>
                            <p class="text-slate-600 text-sm">Peserta didik mampu mengidentifikasi <strong>contoh sikap toleransi</strong> (saling menghargai) di lingkungan kelas.</p>
                        </div>

                        <!-- TP 2.1 -->
                        <div class="relative pl-12">
                            <div class="absolute left-2 top-1 w-5 h-5 bg-white border-4 border-indigo-400 rounded-full z-10"></div>
                            <span class="inline-block bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-0.5 rounded mb-1">TP 2.1</span>
                            <p class="text-slate-600 text-sm">Peserta didik mampu menjelaskan <strong>akibat jika tidak ada toleransi</strong> dalam sebuah diskusi (misal: terjadi pertengkaran).</p>
                        </div>

                        <!-- TP 2.2 (Main) -->
                        <div class="relative pl-12">
                            <div class="absolute left-0 top-0 w-9 h-9 bg-emerald-100 border-4 border-emerald-500 rounded-full z-10 flex items-center justify-center -ml-0.5">
                                <span class="text-emerald-700 text-lg">â˜…</span>
                            </div>
                            <span class="inline-block bg-emerald-100 text-emerald-800 text-xs font-bold px-2 py-0.5 rounded mb-1 border border-emerald-200">TP 2.2 (Utama)</span>
                            <p class="text-slate-800 font-semibold text-sm">Peserta didik mampu menjelaskan <strong>pentingnya menerapkan sikap toleransi</strong> untuk mencapai mufakat dalam musyawarah.</p>
                        </div>

                        <!-- TP 3.1 -->
                        <div class="relative pl-12">
                            <div class="absolute left-2 top-1 w-5 h-5 bg-white border-4 border-rose-400 rounded-full z-10"></div>
                            <span class="inline-block bg-rose-100 text-rose-700 text-xs font-bold px-2 py-0.5 rounded mb-1">TP 3.1</span>
                            <p class="text-slate-600 text-sm">Peserta didik mampu <strong>membedakan</strong> antara sikap yang mendukung mufakat dan sikap yang menghambat mufakat.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 1: KNOWLEDGE HUB (Interactive Definitions - ENHANCED) -->
        <section id="section-materi" class="scroll-mt-24">
            <div class="mb-8 border-l-4 border-sky-500 pl-4">
                <h3 class="text-2xl font-bold text-slate-800">1. Pendalaman Materi</h3>
                <p class="text-slate-600 mt-2">Pelajari materi lengkap di bawah ini sesuai <span class="bg-sky-100 text-sky-800 px-1 rounded font-bold text-xs">TP 1.1</span> dan <span class="bg-sky-100 text-sky-800 px-1 rounded font-bold text-xs">TP 2.2</span>. Klik kartu untuk membuka detail.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1: Musyawarah -->
                <div onclick="activateConcept('musyawarah')" id="card-musyawarah" class="bg-white p-6 rounded-xl shadow-md border-2 border-transparent cursor-pointer hover:border-sky-300 transition-all card-hover group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸ—£ï¸</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-2">Musyawarah</h4>
                    <p class="text-slate-500 text-sm">Pengertian, Ciri-ciri, dan Tata Cara.</p>
                </div>

                <!-- Card 2: Mufakat -->
                <div onclick="activateConcept('mufakat')" id="card-mufakat" class="bg-white p-6 rounded-xl shadow-md border-2 border-transparent cursor-pointer hover:border-emerald-300 transition-all card-hover group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸ¤</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-2">Mufakat & Voting</h4>
                    <p class="text-slate-500 text-sm">Hasil Musyawarah & Alternatifnya.</p>
                </div>

                <!-- Card 3: Toleransi -->
                <div onclick="activateConcept('toleransi')" id="card-toleransi" class="bg-white p-6 rounded-xl shadow-md border-2 border-transparent cursor-pointer hover:border-rose-300 transition-all card-hover group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">ğŸ‘‚</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-2">Toleransi (Kunci)</h4>
                    <p class="text-slate-500 text-sm">Pentingnya Toleransi & Akibat Buruknya.</p>
                </div>
            </div>

            <!-- Detailed Content Area (Dynamic) -->
            <div id="concept-detail" class="mt-8 bg-white p-8 rounded-2xl shadow-lg border border-slate-100 min-h-[300px] flex items-start transition-all duration-300">
                <div class="w-full">
                    <h4 id="detail-title" class="text-3xl font-bold text-sky-600 mb-6 border-b pb-4">Pilih topik di atas!</h4>
                    <div id="detail-content" class="text-slate-600 text-lg leading-relaxed">
                        Klik salah satu kartu di atas untuk melihat penjelasan lengkap, contoh, dan poin pentingnya.
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: SIMULATION LAB (Chart.js + Slider) -->
        <section id="section-simulasi" class="scroll-mt-24">
            <div class="mb-8 border-l-4 border-emerald-500 pl-4">
                <h3 class="text-2xl font-bold text-slate-800">2. Laboratorium Toleransi</h3>
                <p class="text-slate-600 mt-2">
                    Eksperimen <span class="bg-emerald-100 text-emerald-800 px-1 rounded font-bold text-xs">TP 2.1 & 2.2</span>. Gunakan <strong>slider</strong> untuk melihat dampak toleransi terhadap keberhasilan mufakat.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center bg-white p-6 md:p-10 rounded-3xl shadow-sm border border-slate-200">
                
                <!-- Controls Side -->
                <div class="space-y-6">
                    <div>
                        <label for="toleranceRange" class="block text-sm font-medium text-slate-700 mb-2">Tingkat Toleransi Kelas:</label>
                        <input type="range" id="toleranceRange" min="0" max="100" value="50" class="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-sky-500">
                        <div class="flex justify-between text-xs text-slate-500 mt-1">
                            <span>Egois (0%)</span>
                            <span>Saling Menghargai (100%)</span>
                        </div>
                    </div>

                    <div id="simulation-text" class="bg-slate-50 p-5 rounded-xl border border-slate-200 transition-all">
                        <h5 class="font-bold text-slate-800 mb-2">Status Kelas:</h5>
                        <p class="text-slate-600" id="status-desc">Geser slider untuk melihat prediksi...</p>
                    </div>

                    <div class="space-y-2">
                        <h5 class="font-bold text-sm text-slate-800">Indikator Toleransi (TP 1.2):</h5>
                        <ul class="text-sm text-slate-600 space-y-1 list-disc list-inside">
                            <li>Mendengarkan saat teman bicara.</li>
                            <li>Tidak mengejek pendapat beda.</li>
                            <li>Sabar menunggu giliran.</li>
                        </ul>
                    </div>
                </div>

                <!-- Visualization Side -->
                <div class="bg-white rounded-xl p-4 flex flex-col items-center justify-center">
                    <h5 class="text-center font-bold text-slate-600 mb-4">Probabilitas Hasil Musyawarah</h5>
                    <div class="chart-container">
                        <canvas id="impactChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-slate-400 mt-4 italic">Visualisasi data berdasarkan logika hubungan sebab-akibat toleransi.</p>
                </div>
            </div>
        </section>

        <!-- SECTION 3: BEHAVIOR CHECK (Sorting Activity) -->
        <section class="scroll-mt-24">
            <div class="mb-8 border-l-4 border-rose-500 pl-4">
                <h3 class="text-2xl font-bold text-slate-800">3. Sikap Pendukung vs Penghambat</h3>
                <p class="text-slate-600 mt-2">
                    Latihan <span class="bg-rose-100 text-rose-800 px-1 rounded font-bold text-xs">TP 3.1</span>. Kenali mana sikap yang membantu dan mana yang merusak mufakat.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Positive Column -->
                <div class="bg-emerald-50 rounded-2xl p-6 border border-emerald-100">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 text-xl font-bold">âœ“</div>
                        <h4 class="text-xl font-bold text-emerald-800">Mendukung Mufakat</h4>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-emerald-500 font-bold">1.</span>
                            <span class="text-slate-700">Mendengarkan teman sampai selesai bicara.</span>
                        </li>
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-emerald-500 font-bold">2.</span>
                            <span class="text-slate-700">Berbicara dengan bahasa yang sopan.</span>
                        </li>
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-emerald-500 font-bold">3.</span>
                            <span class="text-slate-700">Menerima keputusan bersama dengan lapang dada.</span>
                        </li>
                    </ul>
                </div>

                <!-- Negative Column -->
                <div class="bg-rose-50 rounded-2xl p-6 border border-rose-100">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center text-rose-600 text-xl font-bold">âœ•</div>
                        <h4 class="text-xl font-bold text-rose-800">Menghambat Mufakat</h4>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-rose-500 font-bold">1.</span>
                            <span class="text-slate-700">Memotong pembicaraan orang lain.</span>
                        </li>
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-rose-500 font-bold">2.</span>
                            <span class="text-slate-700">Memaksakan kehendak sendiri ("Harus mau!").</span>
                        </li>
                        <li class="flex items-start space-x-3 bg-white p-3 rounded-lg shadow-sm">
                            <span class="text-rose-500 font-bold">3.</span>
                            <span class="text-slate-700">Marah atau ngambek jika usulnya ditolak.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- SECTION 4: CASE STUDY (Interactive Story) -->
        <section id="section-kasus" class="scroll-mt-24">
            <div class="mb-8 border-l-4 border-indigo-500 pl-4">
                <h3 class="text-2xl font-bold text-slate-800">4. Studi Kasus: Liburan Sekolah</h3>
                <p class="text-slate-600 mt-2">
                    Bantu Budi mengambil keputusan yang tepat agar kelas tetap rukun.
                </p>
            </div>

            <div class="bg-white rounded-3xl shadow-lg overflow-hidden border border-slate-200">
                <div class="bg-indigo-600 p-6 text-white">
                    <h4 class="text-xl font-bold">Situasi:</h4>
                    <p class="mt-2 opacity-90">Satu kelas sedang berdiskusi tujuan liburan. Budi sangat ingin ke <strong class="text-yellow-300">Pantai</strong>, tetapi Siti dan kebanyakan teman ingin ke <strong class="text-yellow-300">Museum</strong>.</p>
                </div>
                
                <div class="p-8">
                    <div id="story-stage-1">
                        <h5 class="text-lg font-bold text-slate-800 mb-4">Apa yang harus dilakukan Budi?</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button onclick="resolveCase('bad')" class="p-6 border-2 border-slate-200 rounded-xl hover:border-rose-400 hover:bg-rose-50 transition-all text-left group">
                                <span class="block font-bold text-rose-600 mb-2 group-hover:underline">Pilihan A</span>
                                <p class="text-slate-600 text-sm">Berteriak: "Pokoknya harus ke Pantai! Pantai lebih seru dari Museum!"</p>
                            </button>
                            <button onclick="resolveCase('good')" class="p-6 border-2 border-slate-200 rounded-xl hover:border-emerald-400 hover:bg-emerald-50 transition-all text-left group">
                                <span class="block font-bold text-emerald-600 mb-2 group-hover:underline">Pilihan B</span>
                                <p class="text-slate-600 text-sm">Berkata: "Aku ingin ke Pantai, tapi ayo kita voting. Aku ikut suara terbanyak."</p>
                            </button>
                        </div>
                    </div>

                    <div id="story-result" class="hidden animate-fade-in">
                        <div id="result-content" class="text-center py-6">
                            <!-- Dynamic Content Inserted Here -->
                        </div>
                        <button onclick="resetCase()" class="mx-auto block mt-4 text-sm text-indigo-600 font-semibold hover:underline">Ulangi Studi Kasus</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: REFLECTION -->
        <section class="bg-sky-50 rounded-3xl p-8 md:p-12 text-center">
            <h3 class="text-2xl font-bold text-slate-800 mb-4">Refleksi Diri ğŸ¤”</h3>
            <p class="text-lg text-slate-600 mb-8 max-w-2xl mx-auto">
                "Musyawarah bukan tentang siapa yang menang, tapi tentang kepentingan bersama."
            </p>
            <div class="inline-flex flex-col items-center bg-white p-6 rounded-xl shadow-sm max-w-md mx-auto w-full">
                <p class="font-bold text-slate-700 mb-4">Sudahkah kamu toleran hari ini?</p>
                <div class="space-y-2 w-full text-left px-4">
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="checkbox" class="w-5 h-5 text-sky-500 rounded focus:ring-sky-400">
                        <span class="text-slate-600">Saya mendengarkan teman.</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="checkbox" class="w-5 h-5 text-sky-500 rounded focus:ring-sky-400">
                        <span class="text-slate-600">Saya tidak memotong pembicaraan.</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="checkbox" class="w-5 h-5 text-sky-500 rounded focus:ring-sky-400">
                        <span class="text-slate-600">Saya menghargai perbedaan.</span>
                    </label>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 py-8 text-center border-t border-slate-700">
        <div class="max-w-6xl mx-auto px-4">
            <p class="text-xs text-slate-500">
                Dibuat oleh <strong class="text-slate-300">Danang Khoirul Albar</strong>
            </p>
        </div>
    </footer>

    <script>
        // --- ENHANCED DATA OBJECT ---
        const contentData = {
            musyawarah: {
                title: "Musyawarah",
                color: "text-sky-600",
                bg: "border-sky-300",
                html: `
                    <div class="space-y-6 fade-in h-[400px] overflow-y-auto pr-4 custom-scroll">
                        <!-- Pengertian -->
                        <div>
                            <h5 class="font-bold text-slate-800 text-lg mb-2">1. Pengertian Musyawarah</h5>
                            <p class="text-slate-600 mb-2">
                                Secara bahasa, musyawarah berasal dari bahasa Arab <em>"syawara"</em> yang berarti berunding atau urun rembuk.
                            </p>
                            <p class="text-slate-600">
                                Menurut istilah, musyawarah adalah pembahasan bersama dengan maksud mencapai keputusan atas penyelesaian masalah. Ini merupakan pengamalan <strong>Sila ke-4 Pancasila</strong>.
                            </p>
                        </div>
                        
                        <!-- Prinsip & Tujuan (Grid) -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div class="bg-sky-50 p-4 rounded-lg border border-sky-100">
                                <h6 class="font-bold text-sky-800 mb-2">ğŸ›ï¸ Prinsip Musyawarah:</h6>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li>Bersumber pada sila ke-4 Pancasila.</li>
                                    <li>Setiap peserta memiliki hak yang sama.</li>
                                    <li>Tidak memaksakan kehendak.</li>
                                    <li>Keputusan harus dapat dipertanggungjawabkan kepada Tuhan YME.</li>
                                </ul>
                            </div>
                            <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-100">
                                <h6 class="font-bold text-indigo-800 mb-2">ğŸ¯ Tujuan Musyawarah:</h6>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li>Mencapai <strong>mufakat</strong> (kesepakatan bersama).</li>
                                    <li>Mendapatkan keputusan yang adil.</li>
                                    <li>Menyelesaikan kesulitan atau masalah bersama.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Manfaat -->
                        <div>
                            <h5 class="font-bold text-slate-800 text-lg mb-2">2. Manfaat Musyawarah</h5>
                            <ul class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-700">
                                <li class="flex items-center space-x-2"><span class="text-emerald-500">âœ“</span> <span>Masalah segera terpecahkan.</span></li>
                                <li class="flex items-center space-x-2"><span class="text-emerald-500">âœ“</span> <span>Melatih mengemukakan pendapat (mental).</span></li>
                                <li class="flex items-center space-x-2"><span class="text-emerald-500">âœ“</span> <span>Menyatukan pendapat yang berbeda.</span></li>
                                <li class="flex items-center space-x-2"><span class="text-emerald-500">âœ“</span> <span>Mencegah kekeliruan dan celaan.</span></li>
                            </ul>
                        </div>

                        <!-- Contoh -->
                        <div class="bg-amber-50 p-4 rounded-lg border border-amber-100">
                            <h5 class="font-bold text-amber-800 text-lg mb-2">3. Contoh Penerapan</h5>
                            <ul class="list-disc list-inside text-sm text-slate-700 space-y-1">
                                <li><strong>Lingkungan Negara (Sejarah):</strong> Perumusan Pancasila & UUD 1945 oleh BPUPKI.</li>
                                <li><strong>Lingkungan Sekolah:</strong> Pemilihan ketua kelas, penyusunan jadwal piket.</li>
                                <li><strong>Lingkungan Keluarga:</strong> Diskusi pembagian tugas rumah, menentukan tujuan liburan.</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            mufakat: {
                title: "Mufakat",
                color: "text-emerald-600",
                bg: "border-emerald-300",
                html: `
                    <div class="space-y-6 fade-in">
                        <div>
                            <h5 class="font-bold text-slate-800 text-lg mb-2">1. Apa itu Mufakat?</h5>
                            <p class="text-slate-600">Mufakat adalah hasil akhir dari musyawarah dimana <strong>semua pihak setuju</strong> dengan keputusan yang diambil tanpa paksaan. "Bulat air karena pembuluh, bulat kata karena mufakat."</p>
                        </div>

                        <div class="bg-amber-50 p-4 rounded-lg border-l-4 border-amber-400">
                            <h6 class="font-bold text-amber-800 mb-1">Jika Mufakat Gagal, Apa yang Dilakukan?</h6>
                            <p class="text-sm text-slate-700 mb-2">Jika diskusi buntu (tidak ketemu jalan keluar), kita lakukan <strong>VOTING</strong>.</p>
                            <div class="bg-white p-3 rounded border border-amber-200 text-sm">
                                <strong>Voting (Pemungutan Suara):</strong> Keputusan diambil berdasarkan suara terbanyak. Contoh: Memilih ketua kelas.
                            </div>
                        </div>
                    </div>
                `
            },
            toleransi: {
                title: "Toleransi",
                color: "text-rose-600",
                bg: "border-rose-300",
                html: `
                    <div class="space-y-6 fade-in">
                        <div>
                            <h5 class="font-bold text-slate-800 text-lg mb-2">1. Pentingnya Toleransi (TP 2.2)</h5>
                            <p class="text-slate-600">Toleransi adalah kunci utama musyawarah. Tanpa rasa saling menghargai, ego masing-masing akan bertabrakan.</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div class="bg-emerald-50 p-4 rounded-lg">
                                <h6 class="font-bold text-emerald-800 mb-2">âœ… Jika Ada Toleransi:</h6>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li>Suasana kelas damai & tenang.</li>
                                    <li>Keputusan (mufakat) cepat tercapai.</li>
                                    <li>Semua orang merasa dihargai.</li>
                                </ul>
                            </div>
                            <div class="bg-rose-50 p-4 rounded-lg">
                                <h6 class="font-bold text-rose-800 mb-2">â›” Akibat Tidak Ada Toleransi (TP 2.1):</h6>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li>Terjadi pertengkaran/permusuhan.</li>
                                    <li>Diskusi macet (tidak selesai).</li>
                                    <li>Keputusan terasa tidak adil.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            }
        };

        // --- SECTION 1: INTERACTION ---
        function activateConcept(key) {
            // Reset borders
            ['musyawarah', 'mufakat', 'toleransi'].forEach(k => {
                document.getElementById(`card-${k}`).classList.remove('border-sky-300', 'border-emerald-300', 'border-rose-300', 'ring-2', 'ring-offset-2', 'ring-sky-200');
                document.getElementById(`card-${k}`).classList.add('border-transparent');
            });

            // Active State
            const activeCard = document.getElementById(`card-${key}`);
            const data = contentData[key];
            
            activeCard.classList.remove('border-transparent');
            activeCard.classList.add(data.bg, 'ring-2', 'ring-offset-2', 'ring-slate-200');

            // Update Content
            const detailContainer = document.getElementById('concept-detail');
            const titleEl = document.getElementById('detail-title');
            const contentEl = document.getElementById('detail-content');

            // Fade out effect
            detailContainer.style.opacity = '0.5';
            
            setTimeout(() => {
                titleEl.textContent = data.title;
                titleEl.className = `text-3xl font-bold mb-4 border-b pb-4 ${data.color}`;
                contentEl.innerHTML = data.html;
                detailContainer.style.opacity = '1';
            }, 200);
        }

        // Initialize first concept
        activateConcept('musyawarah');

        // --- SECTION 2: CHART SIMULATION ---
        const ctx = document.getElementById('impactChart').getContext('2d');
        const impactChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Keberhasilan Mufakat', 'Potensi Konflik'],
                datasets: [{
                    label: 'Probabilitas (%)',
                    data: [50, 50],
                    backgroundColor: [
                        'rgba(16, 185, 129, 0.7)', // Emerald
                        'rgba(244, 63, 94, 0.7)'   // Rose
                    ],
                    borderColor: [
                        'rgb(16, 185, 129)',
                        'rgb(244, 63, 94)'
                    ],
                    borderWidth: 1,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw + '%';
                            }
                        }
                    }
                }
            }
        });

        const slider = document.getElementById('toleranceRange');
        const statusDesc = document.getElementById('status-desc');

        slider.addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            
            // Logic: Higher Tolerance = Higher Mufakat, Lower Conflict
            const successRate = val; 
            const conflictRate = 100 - val;

            // Update Chart
            impactChart.data.datasets[0].data = [successRate, conflictRate];
            impactChart.update();

            // Update Text
            if (val < 30) {
                statusDesc.innerHTML = `<span class="text-rose-600 font-bold">BAHAYA! (TP 2.1)</span> Suasana kelas panas. Banyak yang memotong pembicaraan. Risiko pertengkaran tinggi. Mufakat GAGAL.`;
            } else if (val < 70) {
                statusDesc.innerHTML = `<span class="text-orange-500 font-bold">SEDANG.</span> Diskusi berjalan tapi masih ada yang egois. Butuh kesabaran lebih untuk mencapai mufakat.`;
            } else {
                statusDesc.innerHTML = `<span class="text-emerald-600 font-bold">HEBAT! (TP 2.2)</span> Suasana damai. Semua mendengarkan. Keputusan (Mufakat) cepat tercapai.`;
            }
        });

        // --- SECTION 4: CASE STUDY ---
        function resolveCase(choice) {
            document.getElementById('story-stage-1').classList.add('hidden');
            const resultDiv = document.getElementById('story-result');
            const contentDiv = document.getElementById('result-content');
            
            resultDiv.classList.remove('hidden');

            if (choice === 'bad') {
                contentDiv.innerHTML = `
                    <div class="text-6xl mb-4">ğŸ˜¡ ğŸ’¥</div>
                    <h3 class="text-2xl font-bold text-rose-600 mb-2">Salah!</h3>
                    <p class="text-slate-600">
                        Sikap memaksakan kehendak membuat teman lain kesal. Terjadi keributan di kelas. 
                        <strong>Tidak ada mufakat yang tercapai.</strong>
                    </p>
                    <p class="mt-4 text-sm bg-rose-50 p-2 rounded inline-block text-rose-700">Pelajaran: Jangan egois saat musyawarah.</p>
                `;
            } else {
                contentDiv.innerHTML = `
                    <div class="text-6xl mb-4">ğŸ–ï¸ ğŸ¤ ğŸ›ï¸</div>
                    <h3 class="text-2xl font-bold text-emerald-600 mb-2">Benar!</h3>
                    <p class="text-slate-600">
                        Sikap Budi sangat toleran! Teman-teman menghargai Budi. 
                        Voting dilakukan dengan damai. Apapun hasilnya, <strong>Mufakat tercapai</strong> dan kelas tetap rukun.
                    </p>
                    <p class="mt-4 text-sm bg-emerald-50 p-2 rounded inline-block text-emerald-700">Pelajaran: Menghargai suara terbanyak adalah kunci.</p>
                `;
            }
        }

        function resetCase() {
            document.getElementById('story-result').classList.add('hidden');
            document.getElementById('story-stage-1').classList.remove('hidden');
        }

        // Smooth Scroll
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
